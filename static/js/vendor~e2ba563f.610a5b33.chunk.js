(this.webpackJsonpyugong=this.webpackJsonpyugong||[]).push([[102],{133:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u}));var r=n(1),i=n(312);function o(t,e,n){var o,a,u,s=(n=n||{}).byIndex,c=n.stackedCoordDimension;!function(t){return!Object(i.d)(t.schema)}(e)?(a=e.schema,o=a.dimensions,u=e.store):o=e;var f,l,d,m,p=!(!t||!t.get("stack"));if(Object(r.each)(o,(function(t,e){Object(r.isString)(t)&&(o[e]=t={name:t}),p&&!t.isExtraCoord&&(s||f||!t.ordinalMeta||(f=t),l||"ordinal"===t.type||"time"===t.type||c&&c!==t.coordDim||(l=t))})),!l||s||f||(s=!0),l){d="__\0ecstackresult_"+t.id,m="__\0ecstackedover_"+t.id,f&&(f.createInvertedIndices=!0);var h=l.coordDim,v=l.type,b=0;Object(r.each)(o,(function(t){t.coordDim===h&&b++}));var g={name:d,coordDim:h,coordDimIndex:b,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},O={name:m,coordDim:m,coordDimIndex:b+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(u&&(g.storeDimIndex=u.ensureCalculationDimension(m,v),O.storeDimIndex=u.ensureCalculationDimension(d,v)),a.appendCalculationDimension(g),a.appendCalculationDimension(O)):(o.push(g),o.push(O))}return{stackedDimension:l&&l.name,stackedByDimension:f&&f.name,isStackedByIndex:s,stackedOverDimension:m,stackResultDimension:d}}function a(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function u(t,e){return a(t,e)?t.getCalculationInfo("stackResultDimension"):e}},138:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return f})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"b",(function(){return m}));var r=n(11),i=n(1),o=n(35),a={Must:1,Might:2,Not:3},u=Object(r.o)();function s(t){u(t).datasetMap=Object(i.createHashMap)()}function c(t,e,n){var r={},o=l(e);if(!o||!t)return r;var a,s,c=[],f=[],d=e.ecModel,m=u(d).datasetMap,p=o.uid+"_"+n.seriesLayoutBy;t=t.slice(),Object(i.each)(t,(function(e,n){var o=Object(i.isObject)(e)?e:t[n]={name:e};"ordinal"===o.type&&null==a&&(a=n,s=b(o)),r[o.name]=[]}));var h=m.get(p)||m.set(p,{categoryWayDim:s,valueWayDim:0});function v(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function b(t){var e=t.dimsDef;return e?e.length:1}return Object(i.each)(t,(function(t,e){var n=t.name,i=b(t);if(null==a){var o=h.valueWayDim;v(r[n],o,i),v(f,o,i),h.valueWayDim+=i}else if(a===e)v(r[n],0,i),v(c,0,i);else{o=h.categoryWayDim;v(r[n],o,i),v(f,o,i),h.categoryWayDim+=i}})),c.length&&(r.itemName=c),f.length&&(r.seriesName=f),r}function f(t,e,n){var r={};if(!l(t))return r;var u,s=e.sourceFormat,c=e.dimensionsDefine;s!==o.e&&s!==o.d||Object(i.each)(c,(function(t,e){"name"===(Object(i.isObject)(t)?t.name:t)&&(u=e)}));var f=function(){for(var t={},r={},i=[],o=0,f=Math.min(5,n);o<f;o++){var l=p(e.data,s,e.seriesLayoutBy,c,e.startIndex,o);i.push(l);var d=l===a.Not;if(d&&null==t.v&&o!==u&&(t.v=o),(null==t.n||t.n===t.v||!d&&i[t.n]===a.Not)&&(t.n=o),m(t)&&i[t.n]!==a.Not)return t;d||(l===a.Might&&null==r.v&&o!==u&&(r.v=o),null!=r.n&&r.n!==r.v||(r.n=o))}function m(t){return null!=t.v&&null!=t.n}return m(t)?t:m(r)?r:null}();if(f){r.value=[f.v];var d=null!=u?u:f.n;r.itemName=[d],r.seriesName=[d]}return r}function l(t){if(!t.get("data",!0))return Object(r.v)(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},r.b).models[0]}function d(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?Object(r.v)(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},r.b).models:[]}function m(t,e){return p(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function p(t,e,n,u,s,c){var f,l,d;if(Object(i.isTypedArray)(t))return a.Not;if(u){var m=u[c];Object(i.isObject)(m)?(l=m.name,d=m.type):Object(i.isString)(m)&&(l=m)}if(null!=d)return"ordinal"===d?a.Must:a.Not;if(e===o.c){var p=t;if(n===o.b){for(var h=p[c],v=0;v<(h||[]).length&&v<5;v++)if(null!=(f=_(h[s+v])))return f}else for(v=0;v<p.length&&v<5;v++){var b=p[s+v];if(b&&null!=(f=_(b[c])))return f}}else if(e===o.e){var g=t;if(!l)return a.Not;for(v=0;v<g.length&&v<5;v++){if((j=g[v])&&null!=(f=_(j[l])))return f}}else if(e===o.d){var O=t;if(!l)return a.Not;if(!(h=O[l])||Object(i.isTypedArray)(h))return a.Not;for(v=0;v<h.length&&v<5;v++)if(null!=(f=_(h[v])))return f}else if(e===o.f){var y=t;for(v=0;v<y.length&&v<5;v++){var j=y[v],D=Object(r.h)(j);if(!Object(i.isArray)(D))return a.Not;if(null!=(f=_(D[c])))return f}}function _(t){var e=Object(i.isString)(t);return null!=t&&isFinite(t)&&""!==t?e?a.Might:a.Not:e&&"-"!==t?a.Must:void 0}return a.Not}},146:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return m}));var r=n(9),i=n(1),o=n(55);function a(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"===n&&"number"!==typeof t&&null!=t&&"-"!==t&&(t=+Object(r.o)(t)),null==t||""===t?NaN:+t)}var u=Object(i.createHashMap)({number:function(t){return parseFloat(t)},time:function(t){return+Object(r.o)(t)},trim:function(t){return"string"===typeof t?Object(i.trim)(t):t}});function s(t){return u.get(t)}var c={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},f=function(){function t(t,e){if("number"!==typeof e){0,Object(o.c)("")}this._opFn=c[t],this._rvalFloat=Object(r.n)(e)}return t.prototype.evaluate=function(t){return"number"===typeof t?this._opFn(t,this._rvalFloat):this._opFn(Object(r.n)(t),this._rvalFloat)},t}(),l=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=typeof t,i=typeof e,o="number"===n?t:Object(r.n)(t),a="number"===i?e:Object(r.n)(e),u=isNaN(o),s=isNaN(a);if(u&&(o=this._incomparable),s&&(a=this._incomparable),u&&s){var c="string"===n,f="string"===i;c&&(o=f?t:0),f&&(a=c?e:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},t}(),d=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=Object(r.n)(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=Object(r.n)(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function m(t,e){return"eq"===t||"ne"===t?new d("eq"===t,e):Object(i.hasOwn)(c,t)?new f(t,e):null}},167:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return g})),n.d(e,"d",(function(){return j})),n.d(e,"e",(function(){return _}));var r,i,o,a,u,s=n(1),c=n(11),f=n(139),l=n(35),d=function(){function t(t,e){var n=Object(f.e)(t)?t:Object(f.c)(t);this._source=n;var r=this._data=n.data;n.sourceFormat===l.g&&(this._offset=0,this._dimSize=e,this._data=r),u(this,r,n)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;u=function(t,i,o){var u=o.sourceFormat,c=o.seriesLayoutBy,f=o.startIndex,d=o.dimensionsDefine,m=a[D(u,c)];if(Object(s.extend)(t,m),u===l.g)t.getItem=e,t.count=r,t.fillStorage=n;else{var p=h(u,c);t.getItem=Object(s.bind)(p,null,i,f,d);var v=g(u,c);t.count=Object(s.bind)(v,null,i,f,d)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,r=this._dimSize,i=r*t,o=0;o<r;o++)e[o]=n[i+o];return e},n=function(t,e,n,r){for(var i=this._data,o=this._dimSize,a=0;a<o;a++){for(var u=r[a],s=null==u[0]?1/0:u[0],c=null==u[1]?-1/0:u[1],f=e-t,l=n[a],d=0;d<f;d++){var m=i[d*o+a];l[t+d]=m,m<s&&(s=m),m>c&&(c=m)}u[0]=s,u[1]=c}},r=function(){return this._data?this._data.length/this._dimSize:0};function i(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[l.c+"_"+l.a]={pure:!0,appendData:i},t[l.c+"_"+l.b]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[l.e]={pure:!0,appendData:i},t[l.d]={pure:!0,appendData:function(t){var e=this._data;Object(s.each)(t,(function(t,n){for(var r=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)r.push(t[i])}))}},t[l.f]={appendData:i},t[l.g]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},a=t}(),t}(),m=function(t,e,n,r){return t[r]},p=((r={})[l.c+"_"+l.a]=function(t,e,n,r){return t[r+e]},r[l.c+"_"+l.b]=function(t,e,n,r,i){r+=e;for(var o=i||[],a=t,u=0;u<a.length;u++){var s=a[u];o[u]=s?s[r]:null}return o},r[l.e]=m,r[l.d]=function(t,e,n,r,i){for(var o=i||[],a=0;a<n.length;a++){0;var u=t[n[a].name];o[a]=u?u[r]:null}return o},r[l.f]=m,r);function h(t,e){return p[D(t,e)]}var v=function(t,e,n){return t.length},b=((i={})[l.c+"_"+l.a]=function(t,e,n){return Math.max(0,t.length-e)},i[l.c+"_"+l.b]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},i[l.e]=v,i[l.d]=function(t,e,n){var r=t[n[0].name];return r?r.length:0},i[l.f]=v,i);function g(t,e){return b[D(t,e)]}var O=function(t,e,n){return t[e]},y=((o={})[l.c]=O,o[l.e]=function(t,e,n){return t[n]},o[l.d]=O,o[l.f]=function(t,e,n){var r=Object(c.h)(t);return r instanceof Array?r[e]:r},o[l.g]=O,o);function j(t){return y[t]}function D(t,e){return t===l.c?t+"_"+e:t}function _(t,e,n){if(t){var r=t.getRawDataItem(e);if(null!=r){var i=t.getStore(),o=i.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),u=i.getDimensionProperty(a);return j(o)(r,a,u)}var s=r;return o===l.f&&(s=Object(c.h)(r)),s}}}},228:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d}));var r=n(35),i=n(454),o=n(1),a=n(139),u=n(375),s=n(11),c=n(138),f=n(312);function l(t,e){return d(t,e).dimensions}function d(t,e){Object(a.e)(t)||(t=Object(a.c)(t));var n=(e=e||{}).coordDimensions||[],l=e.dimensionsDefine||t.dimensionsDefine||[],d=Object(o.createHashMap)(),p=[],h=function(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return Object(o.each)(e,(function(t){var e;Object(o.isObject)(t)&&(e=t.dimsDef)&&(i=Math.max(i,e.length))})),i}(t,n,l,e.dimensionsCount),v=e.canOmitUnusedDimensions&&Object(f.e)(h),b=l===t.dimensionsDefine,g=b?Object(f.c)(t):Object(f.b)(l),O=e.encodeDefine;!O&&e.encodeDefaulter&&(O=e.encodeDefaulter(t,h));for(var y=Object(o.createHashMap)(O),j=new u.a(h),D=0;D<j.length;D++)j[D]=-1;function _(t){var e=j[t];if(e<0){var n=l[t],r=Object(o.isObject)(n)?n:{name:n},a=new i.a,u=r.name;null!=u&&null!=g.get(u)&&(a.name=a.displayName=u),null!=r.type&&(a.type=r.type),null!=r.displayName&&(a.displayName=r.displayName);var s=p.length;return j[t]=s,a.storeDimIndex=t,p.push(a),a}return p[e]}if(!v)for(D=0;D<h;D++)_(D);y.each((function(t,e){var n=Object(s.r)(t).slice();if(1===n.length&&!Object(o.isString)(n[0])&&n[0]<0)y.set(e,!1);else{var r=y.set(e,[]);Object(o.each)(n,(function(t,n){var i=Object(o.isString)(t)?g.get(t):t;null!=i&&i<h&&(r[n]=i,I(_(i),e,n))}))}}));var S=0;function I(t,e,n){null!=r.i.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,d.set(e,!0))}Object(o.each)(n,(function(t){var e,n,r,i;if(Object(o.isString)(t))e=t,i={};else{e=(i=t).name;var a=i.ordinalMeta;i.ordinalMeta=null,(i=Object(o.extend)({},i)).ordinalMeta=a,n=i.dimsDef,r=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null}var u=y.get(e);if(!1!==u){if(!(u=Object(s.r)(u)).length)for(var c=0;c<(n&&n.length||1);c++){for(;S<h&&null!=_(S).coordDim;)S++;S<h&&u.push(S++)}Object(o.each)(u,(function(t,a){var u=_(t);if(b&&null!=i.type&&(u.type=i.type),I(Object(o.defaults)(u,i),e,a),null==u.name&&n){var s=n[a];!Object(o.isObject)(s)&&(s={name:s}),u.name=u.displayName=s.name,u.defaultTooltip=s.defaultTooltip}r&&Object(o.defaults)(u.otherDims,r)}))}}));var M=e.generateCoord,x=e.generateCoordCount,N=null!=x;x=M?x||1:0;var w=M||"value";function L(t){null==t.name&&(t.name=t.coordDim)}if(v)Object(o.each)(p,(function(t){L(t)})),p.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var C=0;C<h;C++){var B=_(C);null==B.coordDim&&(B.coordDim=m(w,d,N),B.coordDimIndex=0,(!M||x<=0)&&(B.isExtraCoord=!0),x--),L(B),null!=B.type||Object(c.b)(t,C)!==c.a.Must&&(!B.isExtraCoord||null==B.otherDims.itemName&&null==B.otherDims.seriesName)||(B.type="ordinal")}return function(t){for(var e=Object(o.createHashMap)(),n=0;n<t.length;n++){var r=t[n],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}(p),new f.a({source:t,dimensions:p,fullDimensionCount:h,dimensionOmitted:v})}function m(t,e,n){var r=e.data;if(n||r.hasOwnProperty(t)){for(var i=0;r.hasOwnProperty(t+i);)i++;t+=i}return e.set(t,!0),t}},302:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return s}));var r=n(1),i=n(35),o=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function a(t,e){var n={},a=n.encode={},s=Object(r.createHashMap)(),c=[],f=[],l={};Object(r.each)(t.dimensions,(function(e){var n,r=t.getDimensionInfo(e),o=r.coordDim;if(o){0;var d=r.coordDimIndex;u(a,o)[d]=e,r.isExtraCoord||(s.set(o,1),"ordinal"!==(n=r.type)&&"time"!==n&&(c[0]=e),u(l,o)[d]=t.getDimensionIndex(r.name)),r.defaultTooltip&&f.push(e)}i.i.each((function(t,e){var n=u(a,e),i=r.otherDims[e];null!=i&&!1!==i&&(n[i]=r.name)}))}));var d=[],m={};s.each((function(t,e){var n=a[e];m[e]=n[0],d=d.concat(n)})),n.dataDimsOnCoord=d,n.dataDimIndicesOnCoord=Object(r.map)(d,(function(e){return t.getDimensionInfo(e).storeDimIndex})),n.encodeFirstDimNotExtra=m;var p=a.label;p&&p.length&&(c=p.slice());var h=a.tooltip;return h&&h.length?f=h.slice():f.length||(f=c.slice()),a.defaultedLabel=c,a.defaultedTooltip=f,n.userOutput=new o(l,e),n}function u(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function s(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},312:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return d}));var r=n(1),i=n(11),o=n(139),a=Object(i.o)(),u={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},s=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=l(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return Object(r.retrieve2)(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=Object(o.f)(this.source),n=!d(t),r="",i=[],a=0,s=0;a<t;a++){var c=void 0,f=void 0,l=void 0,m=this.dimensions[s];if(m&&m.storeDimIndex===a)c=e?m.name:null,f=m.type,l=m.ordinalMeta,s++;else{var p=this.getSourceDimension(a);p&&(c=e?p.name:null,f=p.type)}i.push({property:c,type:f,ordinalMeta:l}),!e||null==c||m&&m.isCalculationCoord||(r+=n?c.replace(/\`/g,"`1").replace(/\$/g,"`2"):c),r+="$",r+=u[f]||"f",l&&(r+=l.uid),r+="$"}var h=this.source;return{dimensions:i,hash:[h.seriesLayoutBy,h.startIndex,r].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,i=this.dimensions[n];if(i&&i.storeDimIndex===e)i.isCalculationCoord||(r=i.name),n++;else{var o=this.getSourceDimension(e);o&&(r=o.name)}t.push(r)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function c(t){return t instanceof s}function f(t){for(var e=Object(r.createHashMap)(),n=0;n<(t||[]).length;n++){var i=t[n],o=Object(r.isObject)(i)?i.name:i;null!=o&&null==e.get(o)&&e.set(o,n)}return e}function l(t){var e=a(t);return e.dimNameMap||(e.dimNameMap=f(t.dimensionsDefine))}function d(t){return t>30}},453:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return l}));var r=n(1),i=n(139),o=n(35),a=n(138),u=n(621),s=n(375),c=n(167),f=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,a=this._getUpstreamSourceManagers(),u=!!a.length;if(d(n)){var s=n,c=void 0,f=void 0,l=void 0;if(u){var m=a[0];m.prepareSource(),c=(l=m.getSource()).data,f=l.sourceFormat,e=[m._getVersionSign()]}else c=s.get("data",!0),f=Object(r.isTypedArray)(c)?o.g:o.f,e=[];var p=this._getSourceMetaRawOption()||{},h=l&&l.metaRawOption||{},v=Object(r.retrieve2)(p.seriesLayoutBy,h.seriesLayoutBy)||null,b=Object(r.retrieve2)(p.sourceHeader,h.sourceHeader)||null,g=Object(r.retrieve2)(p.dimensions,h.dimensions);t=v!==h.seriesLayoutBy||!!b!==!!h.sourceHeader||g?[Object(i.b)(c,{seriesLayoutBy:v,sourceHeader:b,dimensions:g},f)]:[]}else{var O=n;if(u){var y=this._applyTransform(a);t=y.sourceList,e=y.upstreamSignList}else{var j=O.get("source",!0);t=[Object(i.b)(j,this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,o=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(null!=a){1!==t.length&&m("")}var s=[],c=[];return Object(r.each)(t,(function(t){t.prepareSource();var e=t.getSource(a||0);null==a||e||m(""),s.push(e),c.push(t._getVersionSign())})),o?e=Object(u.a)(o,s,{datasetIndex:n.componentIndex}):null!=a&&(e=[Object(i.a)(s[0])]),{sourceList:e,upstreamSignList:c}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var r=this._storeList,i=r[0];i||(i=r[0]={});var o=i[n];if(!o){var a=this._getUpstreamSourceManagers()[0];d(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new s.b).initData(new c.a(e,t.length),t),i[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(d(t)){var e=Object(a.f)(t);return e?[e.getSourceManager()]:[]}return Object(r.map)(Object(a.e)(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,r=this._sourceHost;if(d(r))t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var i=r;t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function l(t){t.option.transform&&Object(r.setAsPrimitive)(t.option.transform)}function d(t){return"series"===t.mainType}function m(t){throw new Error(t)}},621:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return b}));var r=n(35),i=n(11),o=n(1),a=n(167),u=n(146),s=n(55),c=n(139),f=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return Object(u.d)(t,e)},t}();function l(t){if(!O(t.sourceFormat)){0,Object(s.c)("")}return t.data}function d(t){var e=t.sourceFormat,n=t.data;if(!O(e)){0,Object(s.c)("")}if(e===r.c){for(var i=[],a=0,u=n.length;a<u;a++)i.push(n[a].slice());return i}if(e===r.e){for(i=[],a=0,u=n.length;a<u;a++)i.push(Object(o.extend)({},n[a]));return i}}function m(t,e,n){if(null!=n)return"number"===typeof n||!isNaN(n)&&!Object(o.hasOwn)(e,n)?t[n]:Object(o.hasOwn)(e,n)?e[n]:void 0}function p(t){return Object(o.clone)(t)}var h=Object(o.createHashMap)();function v(t){var e=(t=Object(o.clone)(t)).type;e||Object(s.c)("");var n=e.split(":");2!==n.length&&Object(s.c)("");var r=!1;"echarts"===n[0]&&(e=n[1],r=!0),t.__isBuiltIn=r,h.set(e,t)}function b(t,e,n){var r=Object(i.r)(t),o=r.length;o||Object(s.c)("");for(var a=0,u=o;a<u;a++){e=g(r[a],e,n,1===o?null:a),a!==u-1&&(e.length=Math.max(e.length,1))}return e}function g(t,e,n,u){e.length||Object(s.c)(""),Object(o.isObject)(t)||Object(s.c)("");var v=t.type,b=h.get(v);b||Object(s.c)("");var g=Object(o.map)(e,(function(t){return function(t,e){var n=new f,i=t.data,u=n.sourceFormat=t.sourceFormat,c=t.startIndex;t.seriesLayoutBy!==r.a&&Object(s.c)("");var h=[],v={},b=t.dimensionsDefine;if(b)Object(o.each)(b,(function(t,e){var n=t.name,r={index:e,name:n,displayName:t.displayName};h.push(r),null!=n&&(Object(o.hasOwn)(v,n)&&Object(s.c)(""),v[n]=r)}));else for(var g=0;g<t.dimensionsDetectedCount;g++)h.push({index:g});var O=Object(a.c)(u,r.a);e.__isBuiltIn&&(n.getRawDataItem=function(t){return O(i,c,h,t)},n.getRawData=Object(o.bind)(l,null,t)),n.cloneRawData=Object(o.bind)(d,null,t);var y=Object(a.b)(u,r.a);n.count=Object(o.bind)(y,null,i,c,h);var j=Object(a.d)(u);n.retrieveValue=function(t,e){var n=O(i,c,h,t);return D(n,e)};var D=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=h[e];return n?j(t,e,n.name):void 0}};return n.getDimensionInfo=Object(o.bind)(m,null,h,v),n.cloneAllDimensionInfo=Object(o.bind)(p,null,h),n}(t,b)})),y=Object(i.r)(b.transform({upstream:g[0],upstreamList:g,config:Object(o.clone)(t.config)}));return Object(o.map)(y,(function(t,n){var i;Object(o.isObject)(t)||Object(s.c)(""),t.data||Object(s.c)(""),O(Object(c.d)(t.data))||Object(s.c)("");var a=e[0];if(a&&0===n&&!t.dimensions){var u=a.startIndex;u&&(t.data=a.data.slice(0,u).concat(t.data)),i={seriesLayoutBy:r.a,sourceHeader:u,dimensions:a.metaRawOption.dimensions}}else i={seriesLayoutBy:r.a,sourceHeader:0,dimensions:t.dimensions};return Object(c.b)(t.data,i,null)}))}function O(t){return t===r.c||t===r.e}},632:function(t,e,n){"use strict";var r=n(1),i=n(11),o=Object(i.o)();function a(t,e){if(o(i=this).mainData===i){var n=Object(r.extend)({},o(this).datas);n[this.dataType]=e,l(e,n,t)}else d(e,this.dataType,o(this).mainData,t);var i;return e}function u(t,e){return t.struct&&t.struct.update(),e}function s(t,e){return Object(r.each)(o(e).datas,(function(n,r){n!==e&&d(n.cloneShallow(),r,e,t)})),e}function c(t){var e=o(this).mainData;return null==t||null==e?e:o(e).datas[t]}function f(){var t=o(this).mainData;return null==t?[{data:t}]:Object(r.map)(Object(r.keys)(o(t).datas),(function(e){return{type:e,data:o(t).datas[e]}}))}function l(t,e,n){o(t).datas={},Object(r.each)(e,(function(e,r){d(e,r,t,n)}))}function d(t,e,n,r){o(n).datas[e]=t,o(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=c,t.getLinkedDataAll=f}e.a=function(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,l(e,n,t),Object(r.each)(n,(function(n){Object(r.each)(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,Object(r.curry)(a,t))}))})),e.wrapMethod("cloneShallow",Object(r.curry)(s,t)),Object(r.each)(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,Object(r.curry)(u,t))})),Object(r.assert)(n[e.dataType]===e)}}}]);