(this.webpackJsonpyugong=this.webpackJsonpyugong||[]).push([[132],{1280:function(e,t,a){"use strict";var r=a(17),n=(a(838),a(503)),l=a(21),o=a(4),i=a(3),c=a(83),u=a(3578),d=a(3572),m=a(32),s=a(0),v=a.n(s),f=(a(1534),a(1182)),b=a(10),p=(a(122),a(26)),O=a(179),j=a(3570),h=a(11),g=a.n(h),E=(a(456),a(241)),x=a(13),C=(a(203),a(111)),y=a(3574),w=a(3563),F=a(3613),P=a(3580),S=a(433),R=(a(1521),a(276)),M=(a(1523),function(e){var t=e.color,a=e.children;return v.a.createElement(R.a,{color:t,text:a})}),I={Success:function(e){var t=e.children;return v.a.createElement(R.a,{status:"success",text:t})},Error:function(e){var t=e.children;return v.a.createElement(R.a,{status:"error",text:t})},Default:function(e){var t=e.children;return v.a.createElement(R.a,{status:"default",text:t})},Processing:function(e){var t=e.children;return v.a.createElement(R.a,{status:"processing",text:t})},Warning:function(e){var t=e.children;return v.a.createElement(R.a,{status:"warning",text:t})},success:function(e){var t=e.children;return v.a.createElement(R.a,{status:"success",text:t})},error:function(e){var t=e.children;return v.a.createElement(R.a,{status:"error",text:t})},default:function(e){var t=e.children;return v.a.createElement(R.a,{status:"default",text:t})},processing:function(e){var t=e.children;return v.a.createElement(R.a,{status:"processing",text:t})},warning:function(e){var t=e.children;return v.a.createElement(R.a,{status:"warning",text:t})}},N=(a(1520),a(147),a(42)),k=(a(97),a(34)),Y=a(6),T=a(750),D=(a(1526),["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue","fieldNames","lightLabel","labelTrigger"]),V=function(e,t){return"object"!==Object(l.a)(t)?e[t]||t:e[null===t||void 0===t?void 0:t.value]||t.label},z=function(e,t){var a=e.label,n=e.prefixCls,l=e.onChange,i=e.value,c=e.mode,u=(e.children,e.defaultValue,e.size),d=e.showSearch,m=e.disabled,f=e.style,O=e.className,h=e.bordered,E=e.options,x=e.onSearch,C=e.allowClear,y=e.labelInValue,w=e.fieldNames,F=e.lightLabel,P=e.labelTrigger,S=Object(r.a)(e,D),R=e.placeholder,M=void 0===R?a:R,I=w||{},z=I.label,A=void 0===z?"label":z,H=I.value,L=void 0===H?"value":H,B=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-select-light-select"),K=Object(s.useState)(!1),q=Object(b.a)(K,2),W=q[0],G=q[1],U=Object(s.useState)(""),J=Object(b.a)(U,2),$=J[0],Q=J[1],X=Object(s.useMemo)((function(){var e={};return null===E||void 0===E||E.forEach((function(t){var a=t[A],r=t[L];e[r]=a||r})),e}),[A,E,L]),Z=Array.isArray(i)?i.map((function(e){return V(X,e)})):V(X,i);return v.a.createElement("div",{className:g()(B,Object(Y.a)({},"".concat(B,"-searchable"),d),O),style:f,onClick:function(e){var t,a,r;if(!m){var n=null===F||void 0===F||null===(t=F.current)||void 0===t||null===(a=t.labelRef)||void 0===a||null===(r=a.current)||void 0===r?void 0:r.contains(e.target);G(!n||!W)}}},v.a.createElement(N.a,Object(o.a)({},S,{allowClear:C,value:i,mode:c,labelInValue:y,size:u,disabled:m,onChange:function(e,t){null===l||void 0===l||l(e,t),"multiple"!==c&&setTimeout((function(){G(!1)}),0)},bordered:h,showSearch:d,onSearch:x,style:f,dropdownRender:function(e){return v.a.createElement("div",{ref:t},d&&v.a.createElement("div",{style:{margin:"4px 8px"}},v.a.createElement(k.a,{value:$,allowClear:C,onChange:function(e){Q(e.target.value.toLowerCase()),null===x||void 0===x||x(e.target.value)},onKeyDown:function(e){e.stopPropagation()},style:{width:"100%"},prefix:v.a.createElement(T.a,null)})),e)},open:W,onDropdownVisibleChange:function(e){e||setTimeout((function(){Q("")}),0),P||G(e)},prefixCls:n,options:$?null===E||void 0===E?void 0:E.filter((function(e){var t,a,r,n,l;return(null===(t=String(e[A]))||void 0===t||null===(a=t.toLowerCase())||void 0===a?void 0:a.includes($))||(null===(r=e[L])||void 0===r||null===(n=r.toString())||void 0===n||null===(l=n.toLowerCase())||void 0===l?void 0:l.includes($))})):E})),v.a.createElement(j.a,{ellipsis:!0,size:u,label:a,placeholder:M,disabled:m,expanded:W,bordered:h,allowClear:C,value:Z||(null===i||void 0===i?void 0:i.label)||i,onClear:function(){null===l||void 0===l||l(void 0,void 0)},ref:F}))},A=v.a.forwardRef(z),H=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch","fieldNames"],L=N.a.Option,B=N.a.OptGroup,K=function(e,t){var a=e.optionItemRender,n=e.mode,l=e.onSearch,c=e.onFocus,u=e.onChange,d=e.autoClearSearchValue,m=e.searchOnFocus,f=void 0!==m&&m,O=e.resetAfterSelect,j=void 0!==O&&O,h=e.optionFilterProp,E=void 0===h?"label":h,x=e.optionLabelProp,C=void 0===x?"label":x,y=e.className,w=e.disabled,F=e.options,P=e.fetchData,S=e.resetData,R=e.prefixCls,M=e.onClear,I=e.searchValue,k=e.showSearch,T=e.fieldNames,D=Object(r.a)(e,H),V=T||{},z=V.label,A=void 0===z?"label":z,K=V.value,q=void 0===K?"value":K,W=V.options,G=void 0===W?"options":W,U=Object(s.useState)(I),J=Object(b.a)(U,2),$=J[0],Q=J[1],X=Object(s.useRef)();Object(s.useImperativeHandle)(t,(function(){return X.current})),Object(s.useEffect)((function(){var e;D.autoFocus&&(null===X||void 0===X||null===(e=X.current)||void 0===e||e.focus())}),[D.autoFocus]),Object(s.useEffect)((function(){Q(I)}),[I]);var Z=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-filed-search-select",R),_=g()(Z,y,Object(Y.a)({},"".concat(Z,"-disabled"),w)),ee=function(e,t){return Array.isArray(e)&&e.length>0?e.map((function(e,a){var r=null===t||void 0===t?void 0:t[a],n=(null===r||void 0===r?void 0:r["data-item"])||{};return Object(i.a)(Object(i.a)({},n),e)})):[]};return v.a.createElement(N.a,Object(o.a)({ref:X,className:_,allowClear:!0,autoClearSearchValue:d,disabled:w,mode:n,showSearch:k,searchValue:$,optionFilterProp:E,optionLabelProp:C,onClear:function(){null===M||void 0===M||M(),P(""),k&&Q("")}},D,{onSearch:k?function(e){P(e),null===l||void 0===l||l(e),Q(e)}:void 0,onChange:function(t,a){k&&d&&(P(""),null===l||void 0===l||l(""),Q(""));for(var r=arguments.length,o=new Array(r>2?r-2:0),c=2;c<r;c++)o[c-2]=arguments[c];if(e.labelInValue)if("multiple"===n){var m=ee(t,a);null===u||void 0===u||u.apply(void 0,[m,a].concat(o)),j&&S()}else{var s=a&&a["data-item"]||{};null===u||void 0===u||u.apply(void 0,[Object(i.a)(Object(i.a)({},t),s),a].concat(o))}else null===u||void 0===u||u.apply(void 0,[t,a].concat(o))},onFocus:function(e){f&&P(""),null===c||void 0===c||c(e)}}),function e(t){return t.map((function(t){var r,n=t.disabled,l=t.className,i=t.optionType,c=t[A],u=t[q],d=null!==(r=t[G])&&void 0!==r?r:[];return"optGroup"===i||t.options?v.a.createElement(B,{key:u,label:c},e(d)):v.a.createElement(L,Object(o.a)({},t,{value:u,key:u||(null===c||void 0===c?void 0:c.toString()),disabled:n,"data-item":t,className:"".concat(Z,"-option ").concat(l||""),label:c}),(null===a||void 0===a?void 0:a(t))||c)}))}(F||[]))},q=v.a.forwardRef(K),W=["value","text"],G=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id","lightLabel","labelTrigger"],U=function(e){return"map"===function(e){var t=Object.prototype.toString.call(e).match(/^\[object (.*)\]$/)[1].toLowerCase();return"string"===t&&"object"===Object(l.a)(e)?"object":null===e?"null":void 0===e?"undefined":t}(e)?e:new Map(Object.entries(e||{}))},J=function e(t,a){if(Array.isArray(t))return v.a.createElement(C.b,{split:",",size:2},t.map((function(t){return e(t,a)})));var r=U(a);if(!r.has(t)&&!r.has("".concat(t)))return(null===t||void 0===t?void 0:t.label)||t;var n=r.get(t)||r.get("".concat(t));if(!n)return(null===t||void 0===t?void 0:t.label)||t;var l=n.status,o=n.color,i=I[l||"Init"];return i?v.a.createElement(i,null,n.text):o?v.a.createElement(M,{color:o},n.text):n.text||n},$=function(e){for(var t=e.label,a=e.words,r=Object(s.useContext)(p.a.ConfigContext).getPrefixCls,n=r("pro-select-item-option-content-light"),l=r("pro-select-item-option-content"),o=new RegExp(a.map((function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")})).join("|"),"gi"),i=t,c=[];i.length;){var u=o.exec(i);if(!u){c.push(i);break}var d=u.index,m=u[0].length+d;c.push(i.slice(0,d),v.a.createElement("span",{className:n},i.slice(d,m))),i=i.slice(m)}return v.a.createElement.apply(v.a,["div",{className:l}].concat(c))};function Q(e,t){var a,r;if(!t)return!0;if((null===e||void 0===e||null===(a=e.label)||void 0===a?void 0:a.toString().toLowerCase().includes(t.toLowerCase()))||(null===e||void 0===e||null===(r=e.value)||void 0===r?void 0:r.toString().toLowerCase().includes(t.toLowerCase())))return!0;if("optGroup"===e.optionType&&(e.children||e.options)&&[].concat(Object(x.a)(e.children||[]),[e.options||[]]).find((function(e){return Q(e,t)})))return!0;return!1}var X=function(e){var t,a,n,o,c,u=e.cacheForSwr,d=Object(s.useState)(e.defaultKeyWords),m=Object(b.a)(d,2),v=m[0],f=m[1],p=Object(s.useState)((function(){return e.proFieldKey?e.proFieldKey.toString():e.request?Object(y.a)():"no-fetch"})),O=Object(b.a)(p,1)[0],j=Object(s.useRef)(O),h=Object(s.useCallback)((function(e){return function(e){var t=[],a=U(e);return a.forEach((function(e,r){var n=a.get(r)||a.get("".concat(r));n&&("object"===Object(l.a)(n)&&(null===n||void 0===n?void 0:n.text)?t.push({text:null===n||void 0===n?void 0:n.text,value:r,label:null===n||void 0===n?void 0:n.text,disabled:n.disabled}):t.push({text:n,value:r}))})),t}(U(e)).map((function(e){var t=e.value,a=e.text,n=Object(r.a)(e,W);return Object(i.a)({label:a,value:t,key:t},n)}))}),[]),g=Object(w.a)((function(){return e.valueEnum?h(e.valueEnum):[]}),{value:null===(t=e.fieldProps)||void 0===t?void 0:t.options}),E=Object(b.a)(g,2),C=E[0],R=E[1];Object(F.a)((function(){var t;e.valueEnum&&!(null===(t=e.fieldProps)||void 0===t?void 0:t.options)&&R(h(e.valueEnum))}),[e.valueEnum]);var M=Object(P.a)([j.current,e.params,v],null!==(a=null!==(n=e.debounceTime)&&void 0!==n?n:null===e||void 0===e||null===(o=e.fieldProps)||void 0===o?void 0:o.debounceTime)&&void 0!==a?a:0,[e.params,v]),I=Object(S.b)((function(){return e.request?M:null}),(function(t,a,r){return e.request(Object(i.a)(Object(i.a)({},a),{},{keyWords:r}),e)}),{revalidateIfStale:!u,revalidateOnReconnect:u,shouldRetryOnError:!1,revalidateOnFocus:!1}),N=I.data,k=I.mutate,Y=I.isValidating,T=Object(s.useMemo)((function(){var t,a,r=null===C||void 0===C?void 0:C.map((function(e){if("string"===typeof e)return{label:e,value:e};if("optGroup"===(null===e||void 0===e?void 0:e.optionType)&&(e.children||e.options)){var t=[].concat(Object(x.a)(e.children||[]),Object(x.a)(e.options||[])).filter((function(e){return Q(e,v)}));return Object(i.a)(Object(i.a)({},e),{},{children:t,options:t})}return e}));return!0===(null===(t=e.fieldProps)||void 0===t?void 0:t.filterOption)||void 0===(null===(a=e.fieldProps)||void 0===a?void 0:a.filterOption)?null===r||void 0===r?void 0:r.filter((function(e){return!!e&&(!v||Q(e,v))})):r}),[C,v,null===(c=e.fieldProps)||void 0===c?void 0:c.filterOption]);return[Y,e.request?N:T,function(e){f(e)},function(){f(void 0),k([],!1)}]},Z=function(e,t){var a=e.mode,n=e.valueEnum,l=e.render,u=e.renderFormItem,d=(e.request,e.fieldProps),m=(e.plain,e.children,e.light),f=(e.proFieldKey,e.params,e.label),O=e.bordered,j=e.id,h=e.lightLabel,g=e.labelTrigger,x=Object(r.a)(e,G),C=Object(s.useRef)(),y=Object(c.d)(),w=Object(s.useRef)(""),F=d.fieldNames;Object(s.useEffect)((function(){w.current=null===d||void 0===d?void 0:d.searchValue}),[null===d||void 0===d?void 0:d.searchValue]);var P=X(e),S=Object(b.a)(P,4),R=S[0],M=S[1],I=S[2],N=S[3],k=Object(s.useContext)(p.a.SizeContext);Object(s.useImperativeHandle)(t,(function(){return Object(i.a)(Object(i.a)({},C.current||{}),{},{fetchData:function(){return I()}})}));var Y=Object(s.useMemo)((function(){if("read"===a){var e=F||{},t=e.label,r=void 0===t?"label":t,n=e.value,l=void 0===n?"value":n,o=e.options,i=void 0===o?"options":o,c=new Map;return function e(t){if(!(null===t||void 0===t?void 0:t.length))return c;for(var a=t.length,n=0;n<a;){var o=t[n++];c.set(o[l],o[r]),e(o[i])}return c}(M)}}),[F,a,M]);if("read"===a){var T=v.a.createElement(v.a.Fragment,null,J(x.text,U(n||Y)));return l?l(x.text,Object(i.a)({mode:a},d),T)||null:T}if("edit"===a||"update"===a){var D=m?v.a.createElement(A,Object(o.a)({bordered:O,id:j,loading:R,ref:C,allowClear:!0,size:k,options:M,label:f,placeholder:y.getMessage("tableForm.selectPlaceholder","\u8bf7\u9009\u62e9"),lightLabel:h,labelTrigger:g},d)):v.a.createElement(q,Object(o.a)({key:"SearchSelect",className:x.className,style:Object(i.a)({minWidth:100},x.style),bordered:O,id:j,loading:R,ref:C,allowClear:!0,notFoundContent:R?v.a.createElement(E.a,{size:"small"}):null===d||void 0===d?void 0:d.notFoundContent,fetchData:function(e){w.current=e,I(e)},resetData:N,optionItemRender:function(e){return"string"===typeof e.label&&w.current?v.a.createElement($,{label:e.label,words:[w.current]}):e.label},placeholder:y.getMessage("tableForm.selectPlaceholder","\u8bf7\u9009\u62e9"),label:f},d,{options:M}));return u?u(x.text,Object(i.a)(Object(i.a)({mode:a},d),{},{options:M}),D)||null:D}return null},_=v.a.forwardRef(Z),ee=["radioType","renderFormItem","mode","render","label","light"],te=function(e,t){e.radioType;var a,n=e.renderFormItem,l=e.mode,u=e.render,d=e.label,m=e.light,h=Object(r.a)(e,ee),E=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-cascader"),x=X(h),C=Object(b.a)(x,3),y=C[0],w=C[1],F=C[2],P=Object(c.d)(),S=Object(s.useRef)(),R=Object(s.useContext)(p.a.SizeContext),M=Object(s.useState)(!1),I=Object(b.a)(M,2),N=I[0],k=I[1];Object(s.useImperativeHandle)(t,(function(){return Object(i.a)(Object(i.a)({},S.current||{}),{},{fetchData:function(){return F()}})}));var Y=Object(s.useMemo)((function(){var e;if("read"===l){var t=(null===(e=h.fieldProps)||void 0===e?void 0:e.fieldNames)||{},a=t.value,r=void 0===a?"value":a,n=t.label,o=void 0===n?"label":n,i=t.children,c=void 0===i?"children":i,u=new Map;return function e(t){if(!(null===t||void 0===t?void 0:t.length))return u;for(var a=t.length,n=0;n<a;){var l=t[n++];u.set(l[r],l[o]),e(l[c])}return u}(w)}}),[l,w,null===(a=h.fieldProps)||void 0===a?void 0:a.fieldNames]);if("read"===l){var T=v.a.createElement(v.a.Fragment,null,J(h.text,U(h.valueEnum||Y)));return u?u(h.text,Object(i.a)({mode:l},h.fieldProps),T)||null:T}if("edit"===l){var D,V=v.a.createElement(f.a,Object(o.a)({bordered:!m,ref:S,open:N,onDropdownVisibleChange:k,suffixIcon:y?v.a.createElement(O.a,null):m?null:void 0,placeholder:P.getMessage("tableForm.selectPlaceholder","\u8bf7\u9009\u62e9"),allowClear:!m&&void 0},h.fieldProps,{className:g()(null===(D=h.fieldProps)||void 0===D?void 0:D.className,E),options:w}));if(n&&(V=n(h.text,Object(i.a)({mode:l},h.fieldProps),V)||null),m){var z=h.fieldProps,A=z.disabled,H=z.allowClear,L=z.placeholder;return v.a.createElement(j.a,{label:d,disabled:A,placeholder:L,size:R,allowClear:H,bordered:h.bordered,value:V,onLabelClick:function(){return k(!N)},onClear:function(){var e,t;return null===(e=h.fieldProps)||void 0===e||null===(t=e.onChange)||void 0===t?void 0:t.call(e,void 0,[],{})}})}return V}return null},ae=v.a.forwardRef(te),re=(a(397),a(194)),ne=(a(1528),["layout","renderFormItem","mode","render"]),le=function(e,t){var a=e.layout,n=void 0===a?"horizontal":a,l=e.renderFormItem,c=e.mode,u=e.render,d=Object(r.a)(e,ne),m=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-checkbox"),f=X(d),O=Object(b.a)(f,3),j=O[0],h=O[1],x=O[2],y=Object(s.useRef)();if(Object(s.useImperativeHandle)(t,(function(){return Object(i.a)(Object(i.a)({},y.current||{}),{},{fetchData:function(){return x()}})})),j)return v.a.createElement(E.a,{size:"small"});if("read"===c){var w=(null===h||void 0===h?void 0:h.length)?null===h||void 0===h?void 0:h.reduce((function(e,t){var a;return Object(i.a)(Object(i.a)({},e),{},Object(Y.a)({},null!==(a=t.value)&&void 0!==a?a:"",t.label))}),{}):void 0,F=J(d.text,U(d.valueEnum||w));return u?u(d.text,Object(i.a)({mode:c},d.fieldProps),v.a.createElement(v.a.Fragment,null,F))||null:v.a.createElement(C.b,null,F)}if("edit"===c){var P,S=v.a.createElement(re.a.Group,Object(o.a)({},d.fieldProps,{className:g()(null===(P=d.fieldProps)||void 0===P?void 0:P.className,"".concat(m,"-").concat(n)),options:h}));return l?l(d.text,Object(i.a)({mode:c},d.fieldProps),S)||null:S}return null},oe=v.a.forwardRef(le),ie=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.language,c=void 0===l?"text":l,u=e.renderFormItem,d=e.plain,m=e.fieldProps,s=function(e,t){if("string"!==typeof e)return e;try{if("json"===t)return JSON.stringify(JSON.parse(e),null,2)}catch(a){}return e}(a,c);if("read"===r){var f=v.a.createElement("pre",Object(o.a)({ref:t},m,{style:Object(i.a)({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},m.style)}),v.a.createElement("code",null,s));return n?n(s,Object(i.a)(Object(i.a)({mode:r},m),{},{ref:t}),f):f}if("edit"===r||"update"===r){var b=v.a.createElement(k.a.TextArea,Object(o.a)({rows:5},m,{ref:t}));return d&&(b=v.a.createElement(k.a,Object(o.a)({},m,{ref:t}))),u?u(s,Object(i.a)(Object(i.a)({mode:r},m),{},{ref:t}),b):b}return null},ce=v.a.forwardRef(ie),ue=(a(621),a(483)),de=a(1281),me=a(52),se=["mode","popoverProps"],ve=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],fe=function(e){var t=e.mode,a=e.popoverProps,n=Object(r.a)(e,se),l=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-color-picker"),i=Object(me.a)("#1890ff",{value:n.value,onChange:n.onChange}),c=Object(b.a)(i,2),u=c[0],d=c[1],m=v.a.createElement("div",{className:l,style:{padding:5,width:48,border:"1px solid #ddd",borderRadius:"2px",cursor:"pointer"}},v.a.createElement("div",{style:{backgroundColor:u,width:36,height:14,borderRadius:"2px"}}));return"read"===t?m:v.a.createElement(ue.a,Object(o.a)({trigger:"click",placement:"right"},a,{content:v.a.createElement("div",{style:{margin:"-12px -16px"}},v.a.createElement(de.a,Object(o.a)({},n,{presetColors:n.colors||n.presetColors||ve,color:u,onChange:function(e){var t=e.hex,a=e.rgb,r=a.r,n=a.g,l=a.b,o=a.a;o&&o<1&&d("rgba(".concat(r,", ").concat(n,", ").concat(l,", ").concat(o,")")),d(t)}})))}),m)},be=function(e){var t=e.text,a=e.mode,r=e.render,n=e.renderFormItem,l=e.fieldProps;if("read"===a){var o=v.a.createElement(fe,{value:t,mode:"read"});return r?r(t,Object(i.a)({mode:a},l),o):o}if("edit"===a||"update"===a){var c=v.a.createElement(fe,l);return n?n(t,Object(i.a)({mode:a},l),c):c}return null},pe=(a(545),a(266)),Oe=a(3579),je=a(91),he=a.n(je),ge=(a(1516),function(e,t){var a=e.text,r=e.mode,n=e.format,l=e.label,u=e.light,d=e.render,m=e.renderFormItem,f=e.plain,O=e.showTime,h=e.fieldProps,g=e.picker,E=e.bordered,x=e.lightLabel,C=e.labelTrigger,y=Object(c.d)(),w=Object(s.useContext)(p.a.SizeContext),F=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-date-picker"),P=Object(s.useState)(!1),S=Object(b.a)(P,2),R=S[0],M=S[1];if("read"===r){var I=a?he()(a).format(h.format||n||"YYYY-MM-DD"):"-";return d?d(a,Object(i.a)({mode:r},h),v.a.createElement(v.a.Fragment,null,I)):v.a.createElement(v.a.Fragment,null,I)}if("edit"===r||"update"===r){var N,k=h.disabled,Y=h.value,T=h.onChange,D=h.allowClear,V=h.placeholder,z=void 0===V?y.getMessage("tableForm.selectPlaceholder","\u8bf7\u9009\u62e9"):V,A=Object(Oe.a)(Y);if(u){var H=A&&A.format(n)||"";N=v.a.createElement("div",{className:"".concat(F,"-light"),onClick:function(e){var t,a,r,n=null===x||void 0===x||null===(t=x.current)||void 0===t||null===(a=t.labelRef)||void 0===a||null===(r=a.current)||void 0===r?void 0:r.contains(e.target);M(!n||!R)}},v.a.createElement(pe.a,Object(o.a)({picker:g,showTime:O,format:n,ref:t},h,{value:A,onChange:function(e){null===T||void 0===T||T(e),setTimeout((function(){M(!1)}),0)},onOpenChange:function(e){C||M(e)},open:R})),v.a.createElement(j.a,{label:l,disabled:k,placeholder:z,size:w,value:H,onClear:function(){null===T||void 0===T||T(null)},allowClear:D,bordered:E,expanded:R,ref:x}))}else N=v.a.createElement(pe.a,Object(o.a)({picker:g,showTime:O,format:n,placeholder:z,bordered:void 0===f||!f,ref:t},h,{value:A}));return m?m(a,Object(i.a)({mode:r},h),N):N}return null}),Ee=v.a.forwardRef(ge),xe=(a(325),a(169)),Ce=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.placeholder,c=e.renderFormItem,u=e.fieldProps;if("read"===r){var d,m=new Intl.NumberFormat(void 0,Object(i.a)({minimumSignificantDigits:1},(null===u||void 0===u?void 0:u.intlProps)||{})).format(Number(a)),s=v.a.createElement("span",{ref:t},(null===u||void 0===u||null===(d=u.formatter)||void 0===d?void 0:d.call(u,m))||m);return n?n(a,Object(i.a)({mode:r},u),s):s}if("edit"===r||"update"===r){var f=v.a.createElement(xe.a,Object(o.a)({ref:t,min:0,placeholder:l},u));return c?c(a,Object(i.a)({mode:r},u),f):f}return null},ye=v.a.forwardRef(Ce),we=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.placeholder,c=e.renderFormItem,u=e.fieldProps,d=e.separator,m=void 0===d?"~":d,s=e.separatorWidth,f=void 0===s?30:s,p=u.value,O=u.defaultValue,j=u.onChange,h=u.id,g=Object(me.a)((function(){return O}),{value:p,onChange:j}),E=Object(b.a)(g,2),C=E[0],y=E[1];if("read"===r){var w=function(e){var t,a=new Intl.NumberFormat(void 0,Object(i.a)({minimumSignificantDigits:2},(null===u||void 0===u?void 0:u.intlProps)||{})).format(Number(e));return(null===u||void 0===u||null===(t=u.formatter)||void 0===t?void 0:t.call(u,a))||a},F=v.a.createElement("span",{ref:t},w(a[0])," ",m," ",w(a[1]));return n?n(a,Object(i.a)({mode:r},u),F):F}if("edit"===r||"update"===r){var P=function(e,t){var a=Object(x.a)(C||[]);a[e]=null===t?void 0:t,y(a)},S=(null===u||void 0===u?void 0:u.placeholder)||l,R=v.a.createElement(k.a.Group,{compact:!0,onBlur:function(){if(Array.isArray(C)){var e=Object(b.a)(C,2),t=e[0],a=e[1];"number"===typeof t&&"number"===typeof a&&t>a?y([a,t]):void 0===t&&void 0===a&&y(void 0)}}},v.a.createElement(xe.a,Object(o.a)({},u,{placeholder:Array.isArray(S)?S[0]:S,id:null!==h&&void 0!==h?h:"".concat(h,"-0"),style:{width:"calc((100% - ".concat(f,"px) / 2)")},value:null===C||void 0===C?void 0:C[0],defaultValue:null===O||void 0===O?void 0:O[0],onChange:function(e){return P(0,e)}})),v.a.createElement(k.a,{style:{width:f,textAlign:"center",borderLeft:0,borderRight:0,pointerEvents:"none",backgroundColor:"#FFF"},placeholder:m,disabled:!0}),v.a.createElement(xe.a,Object(o.a)({},u,{placeholder:Array.isArray(S)?S[1]:S,id:null!==h&&void 0!==h?h:"".concat(h,"-1"),style:{width:"calc((100% - ".concat(f,"px) / 2)"),borderLeft:0},value:null===C||void 0===C?void 0:C[1],defaultValue:null===O||void 0===O?void 0:O[1],onChange:function(e){return P(1,e)}})));return c?c(a,Object(i.a)({mode:r},u),R):R}return null},Fe=v.a.forwardRef(we),Pe=(a(165),a(62)),Se=function(e){var t=e.text,a=e.mode,r=e.render,n=e.renderFormItem,l=e.format,u=e.fieldProps,d=Object(c.d)();if("read"===a){var m=v.a.createElement(Pe.a,{title:he()(t).format((null===u||void 0===u?void 0:u.format)||l||"YYYY-MM-DD HH:mm:ss")},he()(t).fromNow());return r?r(t,Object(i.a)({mode:a},u),v.a.createElement(v.a.Fragment,null,m)):v.a.createElement(v.a.Fragment,null,m)}if("edit"===a||"update"===a){var s=d.getMessage("tableForm.selectPlaceholder","\u8bf7\u9009\u62e9"),f=Object(Oe.a)(u.value),b=v.a.createElement(pe.a,Object(o.a)({placeholder:s,showTime:!0},u,{value:f}));return n?n(t,Object(i.a)({mode:a},u),b):b}return null},Re=(a(1512),a(1306)),Me=v.a.forwardRef((function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.renderFormItem,c=e.fieldProps,u=e.placeholder,d=e.width;if("read"===r){var m=v.a.createElement(Re.a,Object(o.a)({ref:t,width:d||32,src:a},c));return n?n(a,Object(i.a)({mode:r},c),m):m}if("edit"===r||"update"===r){var s=v.a.createElement(k.a,Object(o.a)({ref:t,placeholder:u},c));return l?l(a,Object(i.a)({mode:r},c),s):s}return null})),Ie=(a(1519),function(e,t){var a,r=e.border,n=void 0!==r&&r,l=e.children,o=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-index-column");return v.a.createElement("div",{ref:t,className:g()(o,(a={},Object(Y.a)(a,"".concat(o,"-border"),n),Object(Y.a)(a,"top-three",l>3),a))},l)}),Ne=v.a.forwardRef(Ie),ke=a(240),Ye=["content","numberFormatOptions","numberPopoverRender"],Te=["text","mode","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","locale","customSymbol","numberFormatOptions","numberPopoverRender"],De={default:new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":{style:"currency",currency:"USD"},"ru-RU":{style:"currency",currency:"RUB"},"ms-MY":{style:"currency",currency:"MYR"},"sr-RS":{style:"currency",currency:"RSD"},"pt-BR":{style:"currency",currency:"BRL"}},Ve=function(e,t,a,r){var n=t;return"string"===typeof n&&(n=Number(n)),n||0===n?new Intl.NumberFormat(e||"zh-Hans-CN",Object(i.a)(Object(i.a)({},De[e||"zh-Hans-CN"]||De["zh-Hans-CN"]),{},{maximumFractionDigits:a},r)).format(n):""},ze=v.a.forwardRef((function(e,t){var a=e.content,n=(e.numberFormatOptions,e.numberPopoverRender,Object(r.a)(e,Ye)),l=Object(me.a)((function(){return n.defaultValue}),{value:n.value,onChange:n.onChange}),c=Object(b.a)(l,2),u=c[0],d=c[1],m=null===a||void 0===a?void 0:a(Object(i.a)(Object(i.a)({},n),{},{value:u})),s={visible:!!m&&n.visible};return v.a.createElement(ue.a,Object(o.a)({placement:"topLeft"},s,{trigger:["focus","click"],content:m,getPopupContainer:function(e){return(null===e||void 0===e?void 0:e.parentElement)||document.body}}),v.a.createElement(xe.a,Object(o.a)({ref:t},n,{value:u,onChange:d})))})),Ae=function(e,t){var a,n,l=e.text,u=e.mode,d=e.render,m=e.renderFormItem,f=e.fieldProps,b=(e.proFieldKey,e.plain,e.valueEnum,e.placeholder),p=e.locale,O=void 0===p?null!==(a=f.customSymbol)&&void 0!==a?a:"zh-Hans-CN":p,j=e.customSymbol,h=void 0===j?f.customSymbol:j,g=e.numberFormatOptions,E=void 0===g?null===f||void 0===f?void 0:f.numberFormatOptions:g,x=e.numberPopoverRender,C=void 0===x?(null===f||void 0===f?void 0:f.numberPopoverRender)||!1:x,y=Object(r.a)(e,Te),w=null!==(n=null===f||void 0===f?void 0:f.precision)&&void 0!==n?n:2,F=Object(c.d)();O&&c.c[O]&&(F=c.c[O]);var P=Object(s.useMemo)((function(){if(h)return h;var e=F.getMessage("moneySymbol","\uffe5");return!1!==y.moneySymbol&&!1!==f.moneySymbol?e:void 0}),[h,f.moneySymbol,F,y.moneySymbol]);if("read"===u){var S=v.a.createElement("span",{ref:t},Ve(!!P&&O,l,w,null!==E&&void 0!==E?E:f.numberFormatOptions));return d?d(l,Object(i.a)({mode:u},f),S):S}if("edit"===u||"update"===u){var R=v.a.createElement(ze,Object(o.a)({content:function(e){var t,a;if(!1!==C&&e.value){var r=new RegExp("/B(?=(d{".concat(w-2+3,"})+(?!d))/g")),n=Ve(!!P&&O,null===(t=e.value)||void 0===t||null===(a=t.toString())||void 0===a?void 0:a.replace(r,","),w,Object(i.a)(Object(i.a)({},E),{},{notation:"compact"}));return"function"===typeof C?null===C||void 0===C?void 0:C(e,n):n}},ref:t,precision:w,formatter:function(e){if(e&&P){var t=new RegExp("/B(?=(d{".concat(w-2+3,"})+(?!d))/g"));return"".concat(P," ").concat(e).replace(t,",")}return null===e||void 0===e?void 0:e.toString()},parser:function(e){return P&&e?e.replace(new RegExp("\\".concat(P,"\\s?|(,*)"),"g"),""):e},placeholder:b},Object(ke.a)(f,["numberFormatOptions","precision","numberPopoverRender","customSymbol"])));return m?m(l,Object(i.a)({mode:u},f),R):R}return null},He=v.a.forwardRef(Ae),Le=function(e){return e.map((function(e,t){return v.a.isValidElement(e)?v.a.cloneElement(e,Object(i.a)({key:t},null===e||void 0===e?void 0:e.props)):v.a.createElement(v.a.Fragment,{key:t},e)}))},Be=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.fieldProps,o=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-option");if(Object(s.useImperativeHandle)(t,(function(){return{}})),n){var c=n(a,Object(i.a)({mode:r},l),v.a.createElement(v.a.Fragment,null));return!c||(null===c||void 0===c?void 0:c.length)<1||!Array.isArray(c)?null:v.a.createElement(C.b,{size:16,className:o},Le(c))}return a&&Array.isArray(a)?v.a.createElement(C.b,{size:16,className:o},Le(a)):v.a.isValidElement(a)?a:null},Ke=v.a.forwardRef(Be),qe=a(482),We=a(1160),Ge=["text","mode","render","renderFormItem","fieldProps","proFieldKey"],Ue=function(e,t){var a=e.text,n=e.mode,l=e.render,u=e.renderFormItem,d=e.fieldProps,m=(e.proFieldKey,Object(r.a)(e,Ge)),s=Object(c.d)(),f=Object(me.a)((function(){return m.visible||!1}),{value:m.visible,onChange:m.onVisible}),p=Object(b.a)(f,2),O=p[0],j=p[1];if("read"===n){var h=v.a.createElement(v.a.Fragment,null,"-");return a&&(h=v.a.createElement(C.b,null,v.a.createElement("span",{ref:t},O?a:"\uff0a \uff0a \uff0a \uff0a \uff0a"),v.a.createElement("a",{onClick:function(){return j(!O)}},O?v.a.createElement(qe.a,null):v.a.createElement(We.a,null)))),l?l(a,Object(i.a)({mode:n},d),h):h}if("edit"===n||"update"===n){var g=v.a.createElement(k.a.Password,Object(o.a)({placeholder:s.getMessage("tableForm.inputPlaceholder","\u8bf7\u8f93\u5165"),ref:t},d));return u?u(a,Object(i.a)({mode:n},d),g):g}return null},Je=v.a.forwardRef(Ue),$e=a(521),Qe=a.n($e);function Xe(e){return 0===e?"#595959":e>0?"#ff4d4f":"#52c41a"}var Ze=function(e,t){var a=e.text,r=e.prefix,n=e.precision,l=e.suffix,c=void 0===l?"%":l,u=e.mode,d=e.showColor,m=void 0!==d&&d,f=e.render,b=e.renderFormItem,p=e.fieldProps,O=e.placeholder,j=e.showSymbol,h=Object(s.useMemo)((function(){return"string"===typeof a&&a.includes("%")?Qe()(a.replace("%","")):Qe()(a)}),[a]),g=Object(s.useMemo)((function(){return"function"===typeof j?null===j||void 0===j?void 0:j(a):j}),[j,a]);if("read"===u){var E=m?{color:Xe(h)}:{},x=v.a.createElement("span",{style:E,ref:t},r&&v.a.createElement("span",null,r),g&&v.a.createElement(s.Fragment,null,function(e){return 0===e?null:e>0?"+":"-"}(h)," "),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return t>=0?e.toFixed(t):e}(Math.abs(h),n),c&&c);return f?f(a,Object(i.a)(Object(i.a)({mode:u},p),{},{prefix:r,precision:n,showSymbol:g,suffix:c}),x):x}if("edit"===u||"update"===u){var C=v.a.createElement(xe.a,Object(o.a)({ref:t,formatter:function(e){return e&&r?"".concat(r," ").concat(e).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):e},parser:function(e){return e?e.replace(/.*\s|,/g,""):""},placeholder:O},p));return b?b(a,Object(i.a)({mode:u},p),C):C}return null},_e=v.a.forwardRef(Ze),et=(a(837),a(502));function tt(e){return 100===e?"success":e<0?"exception":e<100?"active":"normal"}var at=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.plain,c=e.renderFormItem,u=e.fieldProps,d=e.placeholder,m=Object(s.useMemo)((function(){return"string"===typeof a&&a.includes("%")?Qe()(a.replace("%","")):Qe()(a)}),[a]);if("read"===r){var f=v.a.createElement(et.a,Object(o.a)({ref:t,size:"small",style:{minWidth:100,maxWidth:320},percent:m,steps:l?10:void 0,status:tt(m)},u));return n?n(m,Object(i.a)({mode:r},u),f):f}if("edit"===r||"update"===r){var b=v.a.createElement(xe.a,Object(o.a)({ref:t,placeholder:d},u));return c?c(a,Object(i.a)({mode:r},u),b):b}return null},rt=v.a.forwardRef(at),nt=(a(602),a(162)),lt=(a(1530),["radioType","renderFormItem","mode","render"]),ot=function(e,t){var a=e.radioType,n=e.renderFormItem,l=e.mode,c=e.render,u=Object(r.a)(e,lt),d=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-radio"),m=X(u),f=Object(b.a)(m,3),O=f[0],j=f[1],h=f[2],x=Object(s.useRef)();if(Object(s.useImperativeHandle)(t,(function(){return Object(i.a)(Object(i.a)({},x.current||{}),{},{fetchData:function(){return h()}})})),O)return v.a.createElement(E.a,{size:"small"});if("read"===l){var C=(null===j||void 0===j?void 0:j.length)?null===j||void 0===j?void 0:j.reduce((function(e,t){var a;return Object(i.a)(Object(i.a)({},e),{},Object(Y.a)({},null!==(a=t.value)&&void 0!==a?a:"",t.label))}),{}):void 0,y=v.a.createElement(v.a.Fragment,null,J(u.text,U(u.valueEnum||C)));return c?c(u.text,Object(i.a)({mode:l},u.fieldProps),y)||null:y}if("edit"===l){var w,F="button"===a?nt.a.Button:nt.a,P=v.a.createElement(nt.a.Group,Object(o.a)({ref:x},u.fieldProps,{className:g()(null===(w=u.fieldProps)||void 0===w?void 0:w.className,"".concat(d,"-").concat(u.fieldProps.layout||"horizontal")),options:void 0}),null===j||void 0===j?void 0:j.map((function(e){return v.a.createElement(F,Object(o.a)({key:e.value},e),e.label)})));return n?n(u.text,Object(i.a)({mode:l},u.fieldProps),P)||null:P}return null},it=v.a.forwardRef(ot),ct=function(e,t){var a=e.text,r=e.mode,n=e.format,l=e.render,u=e.renderFormItem,d=e.plain,m=e.showTime,f=e.fieldProps,p=Object(c.d)(),O=Array.isArray(a)?a:[],j=Object(b.a)(O,2),h=j[0],g=j[1],E=Object(s.useCallback)((function(e){var t;return"function"===typeof(null===f||void 0===f?void 0:f.format)?null===f||void 0===f||null===(t=f.format)||void 0===t?void 0:t.call(f,e):(null===f||void 0===f?void 0:f.format)||n||"YYYY-MM-DD"}),[f,n]),x=h?he()(h).format(E(he()(h))):"",C=g?he()(g).format(E(he()(g))):"";if("read"===r){var y=v.a.createElement("div",{ref:t},v.a.createElement("div",null,x||"-"),v.a.createElement("div",null,C||"-"));return l?l(a,Object(i.a)({mode:r},f),v.a.createElement("span",null,y)):y}if("edit"===r||"update"===r){var w=Object(Oe.a)(f.value),F=v.a.createElement(pe.a.RangePicker,Object(o.a)({ref:t,format:n,showTime:m,placeholder:[p.getMessage("tableForm.selectPlaceholder","\u8bf7\u9009\u62e9"),p.getMessage("tableForm.selectPlaceholder","\u8bf7\u9009\u62e9")],bordered:void 0===d||!d},f,{value:w}));return u?u(a,Object(i.a)({mode:r},f),F):F}return null},ut=v.a.forwardRef(ct),dt=(a(1531),a(882)),mt=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.renderFormItem,c=e.fieldProps;if("read"===r){var u=v.a.createElement(dt.a,Object(o.a)({allowHalf:!0,disabled:!0,ref:t},c,{value:a}));return n?n(a,Object(i.a)({mode:r},c),v.a.createElement(v.a.Fragment,null,u)):u}if("edit"===r||"update"===r){var d=v.a.createElement(dt.a,Object(o.a)({allowHalf:!0,ref:t},c));return l?l(a,Object(i.a)({mode:r},c),d):d}return null},st=v.a.forwardRef(mt);var vt=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.renderFormItem,c=e.fieldProps,u=e.placeholder;if("read"===r){var d=function(e){var t="",a=Math.floor(e/86400),r=Math.floor(e/3600),n=Math.floor(e/60%60),l=Math.floor(e%60);return t="".concat(l,"\u79d2"),n>0&&(t="".concat(n,"\u5206\u949f").concat(t)),r>0&&(t="".concat(r,"\u5c0f\u65f6").concat(t)),a>0&&(t="".concat(a,"\u5929").concat(t)),t}(Number(a)),m=v.a.createElement("span",{ref:t},d);return n?n(a,Object(i.a)({mode:r},c),m):m}if("edit"===r||"update"===r){var s=v.a.createElement(xe.a,Object(o.a)({ref:t,min:0,style:{width:"100%"},placeholder:u},c));return l?l(a,Object(i.a)({mode:r},c),s):s}return null},ft=v.a.forwardRef(vt),bt=(a(840),a(486)),pt=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.renderFormItem,u=e.fieldProps,d=Object(c.d)(),m=Object(s.useMemo)((function(){var e,t;return void 0===a||null===a||"".concat(a).length<1?"-":a?null!==(e=null===u||void 0===u?void 0:u.checkedChildren)&&void 0!==e?e:d.getMessage("switch.open","\u6253\u5f00"):null!==(t=null===u||void 0===u?void 0:u.unCheckedChildren)&&void 0!==t?t:d.getMessage("switch.close","\u5173\u95ed")}),[null===u||void 0===u?void 0:u.checkedChildren,null===u||void 0===u?void 0:u.unCheckedChildren,a]);if("read"===r)return n?n(a,Object(i.a)({mode:r},u),v.a.createElement(v.a.Fragment,null,m)):null!==m&&void 0!==m?m:"-";if("edit"===r||"update"===r){var f,b=v.a.createElement(bt.a,Object(o.a)({ref:t},Object(ke.a)(u,["value"]),{checked:null!==(f=null===u||void 0===u?void 0:u.checked)&&void 0!==f?f:null===u||void 0===u?void 0:u.value}));return l?l(a,Object(i.a)({mode:r},u),b):b}return null},Ot=v.a.forwardRef(pt),jt=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.renderFormItem,u=e.fieldProps,d=e.emptyText,m=void 0===d?"-":d,f=u||{},b=f.autoFocus,p=f.prefix,O=void 0===p?"":p,j=f.suffix,h=void 0===j?"":j,g=Object(c.d)(),E=Object(s.useRef)();if(Object(s.useImperativeHandle)(t,(function(){return E.current})),Object(s.useEffect)((function(){var e;b&&(null===(e=E.current)||void 0===e||e.focus())}),[b]),"read"===r){var x,C=v.a.createElement(v.a.Fragment,null,O,null!==a&&void 0!==a?a:m,h);return n?null!==(x=n(a,Object(i.a)({mode:r},u),C))&&void 0!==x?x:m:C}if("edit"===r||"update"===r){var y=g.getMessage("tableForm.inputPlaceholder","\u8bf7\u8f93\u5165"),w=v.a.createElement(k.a,Object(o.a)({ref:E,placeholder:y,allowClear:!0},u));return l?l(a,Object(i.a)({mode:r},u),w):w}return null},ht=v.a.forwardRef(jt),gt=function(e,t){var a=e.text,r=e.mode,n=e.render,l=e.renderFormItem,u=e.fieldProps,d=Object(c.d)();if("read"===r){var m=v.a.createElement("span",{ref:t},null!==a&&void 0!==a?a:"-");return n?n(a,Object(i.a)({mode:r},u),m):m}if("edit"===r||"update"===r){var s=v.a.createElement(k.a.TextArea,Object(o.a)({ref:t,rows:3,onKeyPress:function(e){"Enter"===e.key&&e.stopPropagation()},placeholder:d.getMessage("tableForm.inputPlaceholder","\u8bf7\u8f93\u5165")},u));return l?l(a,Object(i.a)({mode:r},u),s):s}return null},Et=v.a.forwardRef(gt),xt=(a(1517),a(881)),Ct=function(e,t){var a=e.text,r=e.mode,n=e.light,l=e.label,c=e.format,u=e.render,d=e.renderFormItem,m=e.plain,f=e.fieldProps,O=e.lightLabel,h=e.labelTrigger,g=Object(s.useState)(!1),E=Object(b.a)(g,2),x=E[0],C=E[1],y=Object(s.useContext)(p.a.SizeContext),w=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-date-picker"),F=(null===f||void 0===f?void 0:f.format)||c||"HH:mm:ss",P=he.a.isMoment(a)||"number"===typeof a;if("read"===r){var S=v.a.createElement("span",{ref:t},a?he()(a,P?void 0:F).format(F):"-");return u?u(a,Object(i.a)({mode:r},f),v.a.createElement("span",null,S)):S}if("edit"===r||"update"===r){var R,M=f.disabled,I=f.onChange,N=f.placeholder,k=f.allowClear,Y=f.value,T=Object(Oe.a)(Y,F);if(n){var D=T&&T.format(F)||"";R=v.a.createElement("div",{className:"".concat(w,"-light"),onClick:function(e){var t,a,r,n=null===O||void 0===O||null===(t=O.current)||void 0===t||null===(a=t.labelRef)||void 0===a||null===(r=a.current)||void 0===r?void 0:r.contains(e.target);C(!n||!x)}},v.a.createElement(xt.a,Object(o.a)({value:T,format:c,ref:t},f,{onChange:function(e){null===I||void 0===I||I(e),setTimeout((function(){C(!1)}),0)},onOpenChange:function(e){h||C(e)},open:x})),v.a.createElement(j.a,{label:l,disabled:M,placeholder:N,size:y,value:D,allowClear:k,onClear:function(){return null===I||void 0===I?void 0:I(null)},expanded:x,ref:O}))}else R=v.a.createElement(pe.a.TimePicker,Object(o.a)({ref:t,format:c,bordered:void 0===m||!m},f,{value:T}));return d?d(a,Object(i.a)({mode:r},f),R):R}return null},yt=function(e){var t=e.text,a=e.mode,r=e.format,n=e.render,l=e.renderFormItem,c=e.plain,u=e.fieldProps,d=(null===u||void 0===u?void 0:u.format)||r||"HH:mm:ss",m=Array.isArray(t)?t:[],s=Object(b.a)(m,2),f=s[0],p=s[1],O=he.a.isMoment(f)||"number"===typeof f,j=he.a.isMoment(p)||"number"===typeof p,h=f?he()(f,O?void 0:d).format(d):"",g=p?he()(p,j?void 0:d).format(d):"";if("read"===a){var E=v.a.createElement("div",null,v.a.createElement("div",null,h||"-"),v.a.createElement("div",null,g||"-"));return n?n(t,Object(i.a)({mode:a},u),v.a.createElement("span",null,E)):E}if("edit"===a||"update"===a){var x=u.value,C=Object(Oe.a)(x,d),y=v.a.createElement(xt.a.RangePicker,Object(o.a)({format:r,bordered:void 0===c||!c},u,{value:C}));return l?l(t,Object(i.a)({mode:a},u),y):y}return null},wt=v.a.forwardRef(Ct),Ft=(a(1536),a(1307)),Pt=["radioType","renderFormItem","mode","light","label","render"],St=["onSearch","onClear","onChange","onBlur","showSearch","autoClearSearchValue","treeData","searchValue"],Rt=function(e,t){e.radioType;var a=e.renderFormItem,n=e.mode,l=e.light,c=e.label,u=e.render,d=Object(r.a)(e,Pt),m=(0,Object(s.useContext)(p.a.ConfigContext).getPrefixCls)("pro-field-tree-select"),f=Object(s.useRef)(null),O=Object(s.useState)(!1),h=Object(b.a)(O,2),x=h[0],C=h[1],y=d.fieldProps||{},w=y.onSearch,F=y.onClear,P=y.onChange,S=y.onBlur,R=y.showSearch,M=y.autoClearSearchValue,I=y.treeData,N=y.searchValue,k=Object(r.a)(y,St),Y=Object(s.useContext)(p.a.SizeContext),T=X(Object(i.a)(Object(i.a)({},d),{},{defaultKeyWords:N})),D=Object(b.a)(T,3),V=D[0],z=D[1],A=D[2],H=Object(me.a)("",{onChange:w,value:N}),L=Object(b.a)(H,2),B=L[0],K=L[1];Object(s.useImperativeHandle)(t,(function(){return Object(i.a)(Object(i.a)({},f.current||{}),{},{fetchData:function(){return A()}})}));var q=Object(s.useMemo)((function(){if("read"===n){var e=(null===k||void 0===k?void 0:k.fieldNames)||{},t=e.value,a=void 0===t?"value":t,r=e.label,l=void 0===r?"label":r,o=e.children,i=void 0===o?"children":o,c=new Map;return function e(t){if(!(null===t||void 0===t?void 0:t.length))return c;for(var r=t.length,n=0;n<r;){var o=t[n++];c.set(o[a],o[l]),e(o[i])}return c}(z)}}),[null===k||void 0===k?void 0:k.fieldNames,n,z]);if("read"===n){var W=v.a.createElement(v.a.Fragment,null,J(d.text,U(d.valueEnum||q)));return u?u(d.text,Object(i.a)({mode:n},k),W)||null:W}if("edit"===n){var G,$=Array.isArray(null===k||void 0===k?void 0:k.value)?null===k||void 0===k||null===(G=k.value)||void 0===G?void 0:G.length:0,Q=v.a.createElement(E.a,{spinning:V},v.a.createElement(Ft.a,Object(o.a)({open:x,onDropdownVisibleChange:C,ref:f,dropdownMatchSelectWidth:!l,tagRender:l?function(e){var t;if($<2)return v.a.createElement(v.a.Fragment,null,e.label);var a=null===k||void 0===k||null===(t=k.value)||void 0===t?void 0:t.findIndex((function(t){return t===e.value||t.value===e.value}));return v.a.createElement(v.a.Fragment,null,e.label," ",a<$-1?",":"")}:void 0},k,{bordered:!l,treeData:z||I,showSearch:R,style:Object(i.a)({minWidth:60},k.style),searchValue:B,autoClearSearchValue:M,onClear:function(){null===F||void 0===F||F(),A(""),R&&K("")},onChange:function(e,t,a){R&&M&&(A(""),K("")),null===P||void 0===P||P(e,t,a)},onSearch:function(e){A(e),K(e)},onBlur:function(e){K(""),A(""),null===S||void 0===S||S(e)},className:g()(null===k||void 0===k?void 0:k.className,m)})));if(a&&(Q=a(d.text,Object(i.a)({mode:n},k),Q)||null),l){var Z=k.disabled,_=k.allowClear,ee=k.placeholder;return v.a.createElement(j.a,{label:c,disabled:Z,placeholder:ee,size:Y,onLabelClick:function(){return C(!x)},allowClear:_,bordered:d.bordered,value:Q,onClear:function(){return null===P||void 0===P?void 0:P(void 0,[],{})}})}return Q}return null},Mt=v.a.forwardRef(Rt);var It=function(e){var t=Object(s.useState)(!1),a=Object(b.a)(t,2),r=a[0],n=a[1],l=Object(s.useRef)(null),o=Object(s.useCallback)((function(e){var t,a,r,n,o,i,c=null===(t=l.current)||void 0===t||null===(a=t.labelRef)||void 0===a||null===(r=a.current)||void 0===r?void 0:r.contains(e.target),u=null===(n=l.current)||void 0===n||null===(o=n.clearRef)||void 0===o||null===(i=o.current)||void 0===i?void 0:i.contains(e.target);return c&&!u}),[l]);return v.a.createElement("div",{onMouseDown:function(e){o(e)&&n(!0)},onMouseUp:function(){n(!1)}},v.a.cloneElement(e.children,{labelTrigger:r,lightLabel:l}))},Nt=["text","valueType","mode","onChange","renderFormItem","value","readonly"],kt=["select","radio","radioButton","checkbook"],Yt=function(e,t,a,r){var c,d=a.mode,s=void 0===d?"read":d,f=a.emptyText,b=void 0===f?"-":f;if(!1!==b&&"read"===s&&"option"!==t&&"switch"!==t&&"boolean"!==typeof e&&"number"!==typeof e&&!e){var p=a.fieldProps,O=a.render;return O?O(e,Object(i.a)({mode:s},p),v.a.createElement(v.a.Fragment,null,b)):v.a.createElement(v.a.Fragment,null,b)}if(delete a.emptyText,"object"===Object(l.a)(t))return function(e,t,a){var r=Object(u.a)(a.fieldProps);return"progress"===t.type?v.a.createElement(rt,Object(o.a)({},a,{text:e,fieldProps:Object(i.a)({status:t.status?t.status:void 0},r)})):"money"===t.type?v.a.createElement(He,Object(o.a)({locale:t.locale},a,{fieldProps:r,text:e,moneySymbol:t.moneySymbol})):"percent"===t.type?v.a.createElement(_e,Object(o.a)({},a,{text:e,showSymbol:t.showSymbol,precision:t.precision,fieldProps:r,showColor:t.showColor})):"image"===t.type?v.a.createElement(Me,Object(o.a)({},a,{text:e,width:t.width})):e}(e,t,a);var j=r&&r[t];if(j){var h,g;if(delete a.ref,"read"===s)return null===(h=j.render)||void 0===h?void 0:h.call(j,e,Object(i.a)(Object(i.a)({text:e},a),{},{mode:s||"read"}),v.a.createElement(v.a.Fragment,null,e));if("update"===s||"edit"===s)return null===(g=j.renderFormItem)||void 0===g?void 0:g.call(j,e,Object(i.a)({text:e},a),v.a.createElement(v.a.Fragment,null,e))}var E=kt.includes(t),x=!!(a.valueEnum||a.request||a.options||(null===(c=a.fieldProps)||void 0===c?void 0:c.options));return Object(m.b)(!E||x,"\u5982\u679c\u8bbe\u7f6e\u4e86 valueType \u4e3a ".concat(kt.join(","),"\u4e2d\u4efb\u610f\u4e00\u4e2a\uff0c\u5219\u9700\u8981\u914d\u7f6eoptions\uff0crequest, valueEnum \u5176\u4e2d\u4e4b\u4e00\uff0c\u5426\u5219\u65e0\u6cd5\u751f\u6210\u9009\u9879\u3002")),Object(m.b)(!E||x,"If you set valueType to any of ".concat(kt.join(","),", you need to configure options, request or valueEnum.")),"money"===t?v.a.createElement(He,Object(o.a)({},a,{text:e})):"date"===t?v.a.createElement(It,null,v.a.createElement(Ee,Object(o.a)({text:e,format:"YYYY-MM-DD"},a))):"dateWeek"===t?v.a.createElement(It,null,v.a.createElement(Ee,Object(o.a)({text:e,format:"YYYY-wo",picker:"week"},a))):"dateMonth"===t?v.a.createElement(It,null,v.a.createElement(Ee,Object(o.a)({text:e,format:"YYYY-MM",picker:"month"},a))):"dateQuarter"===t?v.a.createElement(It,null,v.a.createElement(Ee,Object(o.a)({text:e,format:"YYYY-\\QQ",picker:"quarter"},a))):"dateYear"===t?v.a.createElement(It,null,v.a.createElement(Ee,Object(o.a)({text:e,format:"YYYY",picker:"year"},a))):"dateRange"===t?v.a.createElement(ut,Object(o.a)({text:e,format:"YYYY-MM-DD"},a)):"dateTime"===t?v.a.createElement(It,null,v.a.createElement(Ee,Object(o.a)({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},a))):"dateTimeRange"===t?v.a.createElement(ut,Object(o.a)({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},a)):"time"===t?v.a.createElement(It,null,v.a.createElement(wt,Object(o.a)({text:e,format:"HH:mm:ss"},a))):"timeRange"===t?v.a.createElement(yt,Object(o.a)({text:e,format:"HH:mm:ss"},a)):"fromNow"===t?v.a.createElement(Se,Object(o.a)({text:e},a)):"index"===t?v.a.createElement(Ne,null,e+1):"indexBorder"===t?v.a.createElement(Ne,{border:!0},e+1):"progress"===t?v.a.createElement(rt,Object(o.a)({},a,{text:e})):"percent"===t?v.a.createElement(_e,Object(o.a)({text:e},a)):"avatar"===t&&"string"===typeof e&&"read"===a.mode?v.a.createElement(n.a,{src:e,size:22,shape:"circle"}):"code"===t?v.a.createElement(ce,Object(o.a)({text:e},a)):"jsonCode"===t?v.a.createElement(ce,Object(o.a)({text:e,language:"json"},a)):"textarea"===t?v.a.createElement(Et,Object(o.a)({text:e},a)):"digit"===t?v.a.createElement(ye,Object(o.a)({text:e},a)):"digitRange"===t?v.a.createElement(Fe,Object(o.a)({text:e},a)):"second"===t?v.a.createElement(ft,Object(o.a)({text:e},a)):"select"===t||"text"===t&&(a.valueEnum||a.request)?v.a.createElement(It,null,v.a.createElement(_,Object(o.a)({text:e},a))):"checkbox"===t?v.a.createElement(oe,Object(o.a)({text:e},a)):"radio"===t?v.a.createElement(it,Object(o.a)({text:e},a)):"radioButton"===t?v.a.createElement(it,Object(o.a)({radioType:"button",text:e},a)):"rate"===t?v.a.createElement(st,Object(o.a)({text:e},a)):"switch"===t?v.a.createElement(Ot,Object(o.a)({text:e},a)):"option"===t?v.a.createElement(Ke,Object(o.a)({text:e},a)):"password"===t?v.a.createElement(Je,Object(o.a)({text:e},a)):"image"===t?v.a.createElement(Me,Object(o.a)({text:e},a)):"cascader"===t?v.a.createElement(ae,Object(o.a)({text:e},a)):"treeSelect"===t?v.a.createElement(Mt,Object(o.a)({text:e},a)):"color"===t?v.a.createElement(be,Object(o.a)({text:e},a)):v.a.createElement(ht,Object(o.a)({text:e},a))},Tt=function(e,t){var a,n,l,o=e.text,m=e.valueType,f=void 0===m?"text":m,b=e.mode,p=void 0===b?"read":b,O=e.onChange,j=e.renderFormItem,h=e.value,g=e.readonly,E=Object(r.a)(e,Nt),x=Object(c.d)(),C=Object(s.useContext)(c.b),y=(void 0!==h||O||(null===E||void 0===E?void 0:E.fieldProps))&&Object(i.a)(Object(i.a)({value:h},Object(d.a)(null===E||void 0===E?void 0:E.fieldProps)),{},{onChange:function(){for(var e,t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];null===E||void 0===E||null===(e=E.fieldProps)||void 0===e||null===(t=e.onChange)||void 0===t||t.call.apply(t,[e].concat(r)),null===O||void 0===O||O.apply(void 0,r)}});return v.a.createElement(v.a.Fragment,null,Yt("edit"===p?null!==(a=null!==(n=null===y||void 0===y?void 0:y.value)&&void 0!==n?n:o)&&void 0!==a?a:"":null!==(l=null!==o&&void 0!==o?o:null===y||void 0===y?void 0:y.value)&&void 0!==l?l:"",f||"text",Object(i.a)(Object(i.a)({ref:t},E),{},{mode:g?"read":p,renderFormItem:j?function(){var e=j.apply(void 0,arguments);return v.a.isValidElement(e)?v.a.cloneElement(e,Object(i.a)(Object(i.a)({placeholder:E.placeholder||x.getMessage("tableForm.inputPlaceholder","\u8bf7\u8f93\u5165")},y),e.props||{})):e}:void 0,placeholder:E.placeholder||x.getMessage("tableForm.inputPlaceholder","\u8bf7\u8f93\u5165"),fieldProps:Object(u.a)(y)}),C.valueTypeMap))};t.a=v.a.forwardRef(Tt)},1516:function(e,t,a){},1519:function(e,t,a){},1520:function(e,t,a){},1523:function(e,t,a){},1526:function(e,t,a){},1528:function(e,t,a){},1530:function(e,t,a){}}]);